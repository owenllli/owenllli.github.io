# 上机作业代码备份

本文档为大连理工大学软件工程学院（软件工程系）2023 级的 “程序设计基础”“数据结构与算法” 等课程中的 C/C++ 的相关上机代码备份。

鉴于 Academic Integrity 的守则，代码不会公开，仅备份在私有库内，当前页面仅记录这些作业的内容（可能包含输入及输出样例）。

## 大一秋季学期（C 语言）

### 第一次上机

写一个 "Hello World" 程序。

### 第二次上机

=== "1. 大小写转化"

    从键盘输入一个字符，如果是大写英文字母，则输出其小写形式；如果是小写英文字母，输出其大写形式；否则输出 `输入错误`。注意输出必要的提示信息，另外尝试做输入有效性验证，比如输入错误时可以允许继续输入。输入有效性验证涉及到循环，不做硬性要求。

=== "2. 单位数转化"

    在美国体积测量系统中，1`pint` 是 2`cups`，1`cup` 是 8`ounces`，1`ounce` 是 2`tablespoons`，1`tablespoon` 是 3`teaspoons`。编写一个程序，输入 `cup` 数，求出对应的 `pint`、`ounce`、`tablespoon` 和 `teaspoon` 数。

=== "3. 字符串加密"

    设计一个简单的字符串加密算法，不限于如下两种算法：将字符串译成密码，密码规律是用原来的字母后面的第四个字母代替原来的字符，例如，字母 `A` 后面 4 个字母是 `E`，用 `E` 代替 `A`；字母 `x` 经转换后变为 `b`，因此 `China` 应译为 `Glmre`，编写一个程序，输入一个长度不超过 10 个字符串，输出经过加密运算后的密码。

=== "4. 字符串加密"

    间谍机器人能够进行加密解密工作，目前采用的加密技术是将 a-z 个字母中的前 10 个字母 a-j 用 0-9 这十个数替换，后面的 16 个字母 k,l,…y,z 分别用 l,m,…z,k 替换，请输入一个字符，输出加密后应该是哪个字符。

### 第三次上机

=== "1. 判断三角"
    输入三角形的三个边长，计算最大角的正弦值及三角形面积和三角形种类（直角、钝角、锐角）。注意对三角形边长合理性的判断。

=== "2. 冰箱温度"

    编写程序预测断电后冰箱的温度。断电后经过一段时间，温度保持情况由如下公式决定：
    
    $$T=\frac {4t^{2}}{t+2}-20$$

    其中，t 为断电后经过的时间（小时），T 为温度（℃）。经过若干小时候冰箱温度接近室温并保持不变。假设室温为 18℃. 程序提示用户输入时间，它以整数小时和分钟表示，需要将其转换为浮点型的小时数。输出此时的温度值（小数点后 2 位有效数字）。

=== "3. 逆序整数"

    输入一个 5 位整数，求出将其每一位逆序之后的整数，并输出，例如：
    
    输入 12345，输出 54321；输入 100，输出 1；输入 330，输出 33。

=== "4. 航班时间"
    设计程序计算航班的飞行时间，输入 24 小时制的起飞和降落时间，输出飞行时间，例如：
    ```text
    起飞时间：8:30
    降落时间：10:15
    飞行时间：1:45
    ```
    （假设：起降时间在同一天或相邻的两天）

### 第四次上机

=== "1. 体型判断"

    判断某人是否属于肥胖体型，按照如下的” 体指数” 对肥胖程度划分：体指数 t = 体重 /((身高)*(身高))(单位:kg,m).
    
    当 t<18 时：偏瘦；当 18<=t<=25 时：正常体重；当 25<t<27 时：超重体重；当 t>27：肥胖。
    
    输入身高、体重，根据公式，判断出你属于何种体型。

=== "2. 成绩转换"

    学生考试成绩可用百分制和等级制两种表示方式，规定成绩大于或等于 90 分时等级为 A，在 80 分到 89 分之间等级为 B，在 70 到 79 分之间时等级为 C，在 60 到 69 分之间时等级为 D，在 60 以下不及格，等级为 E。编写程序实现百分制和等级制的成绩转换。

    1. 输入成绩等级，输出相应百分制的分数段（用 if）；
    
    2. 输入百分制的分数，输出相应成绩等级（用 switch-case）。

=== "3. 日期计算"

    设计复杂的日期计算器。要求根据用户输入一个日期，实现如下功能：
    
    1. 判断日期是否有效；

    2. 输出 n 天后的日期；

    3. 计算距离该年结束还有多少天。

=== "4. 四则运算"

    设计简单的计算器程序。要求根据用户输入的表达式进行计算，输出结果：`操作数 1 运算符 op 作数 2`.

    指定的运算符为 `+ - * /`. 操作数均为浮点数。

=== "5. 快递费用"

    快递费用计算：上海市的某快递公司根据投送目的地的远近，将全国划分成 5 个区域。快递费按邮件重量计算，由起重费用、续重费用两部分构成： 
    
    1. 起重（首重）1 公斤按起重资费计算（不足 1 公斤，按 1 公斤计算），超过首重的重量，按公斤（不足 1 公斤，按 1 公斤计算）收取续重费； 
    
    2. 同城起重资费 10 元，续重 3 元 / 公斤； 
    
    3. 寄往 1 区（江浙两省）的邮件，起重资费 10 元，续重 4 元； 
    
    4. 寄往其他地区的邮件，起重资费统一为 15 元。而续重部分，不同区域价格不同：2 区的续重 5 元 / 公斤，3 区的续重 6.5 元 / 公斤，4 区的续重 10 元 / 公斤。 

    编写程序，从键盘输入邮件的目的区域编码和重量，计算并输出运费，结果保留 2 位小数。 
    程序中所有浮点数的数据类型均为 float 。
    提示：续重部分不足一公斤，按 1 公斤计算。因此，如包裹重量 2.3 公斤：1 公斤算起重，剩余的 1.3 公斤算续重，不足 1 公斤按 1 公斤计算，1.3 公斤折合续重 为 2 公斤。重量应大于 0、区域编号不能超出 0-4 的范围。

=== "6. 猜数游戏"

    计算机随机产生一个整数，提示用户输入猜测的数字，可设置最多猜测次数（MAXGUESSES），程序根据用户猜测的数字给出相应提示信息（如 “猜大了”，“猜小了”，“恭喜你，猜对了！一共猜了 x 次！”，“很遗憾，已经猜了 MAXGUESSES 次，游戏失败。

### 第五次上机

=== "1. 计算圆周率"

    利用下面公式估计 $\pi$ 的值。

    $$\frac {\pi}{2} = \frac {2\times 2}{1\times 3} \times ... \times \frac {2n\times 2n}{(2n-1)\times (2n+1)}$$

=== "2. 计算自然常数"

    编写程序求常数 $e$ 的近似值，估算公式如下：

    $$e = 1 +\frac {1}{1!} +\frac {2}{2!} +...$$

=== "3. 求最大公约数"

    分别用穷举法和迭代法（欧几里得算法）求两个整数的最大公约数。输入两个正整数 m 和 n，编程求它们的最大公约数。

=== "4. 猴子吃桃问题"

    猴子第一天摘下若干个桃子，当即吃了一半，还不过瘾，又多吃了一个，第二天早上又将剩下的桃子吃掉一半，又多吃了一个。以后每天早上都吃了前一天剩下的一半零一个。到第 10 天早上想再吃时，见只剩下一个桃子了。求第一天共摘了多少。

=== "5. 韩信点兵问题"

    韩信有一队兵，按从 1 至 5 排队报数，最末一个士兵报的数为 1；按从 1 至 6 报数，最后一个士兵报的数为 5；按从 1 至 7 报数，最末一个士兵报的是 4；最后再按从 1 到 11 报数，最末一个士兵报数为 10，请问韩信至少有多少兵？

=== "6. 分解质因子"

    输入一个正整数，如果该数不是素数，则将其分解质因数，输出所有的因子。例如：输入 90，打印出 90=2*3*3*5。

=== "7. 求孪生素数对"

    相差为 2 的两个素数称为孪生素数。例如，3 与 5，41 与 43 等都是孪生素数。设计程序求出指定区间上的所有孪生素数对，区间上限和下限从键盘输入。

=== "8. 数的处理"

    输入一个非负整数，正序输出它的每一位数字，及各位数字的和。

    输入样例：`12345`

    输出：```txt
    1 2 3 4 5
    Sum = 15
    ```

### 第六次上机

=== "A. 一维数组"

    === "1. 不重复元素"

        随机产生 N=20 个 10 以内的自然数，输出原始数组，然后输出其中不重复的元素。

    === "2. 筛选法求素数"

        用筛选法求素数，输出 100 之内所有的素数，并统计个数。

    === "3. 有序合并数组"

        将两个随机生成的整型数组合并成一个有序整数数组。

    === "4. 线性查找算法"

        实现线性查找算法。随机生成一个整型数组并输出，从键盘输入要查找的值，输出要查找的数值第一次出现所在的下标，如果该值不在数组中，则输出 “该元素不存在！”

    === "5. 二分查找算法"

        设计二分查找算法。要求同第四题。

    === "6. 一些基础排序"

        实现冒泡排序、选择排序与插入排序。
        
        并随机产生一个数组，对其按照从小到大排序，要求输出排序前后的数组元素的值。

=== "B. 二维数组"

    === "1. 统计奇偶数"

        随机产生 20 个不大于 10 的自然数，将其存储在一个二维数组中，且偶数与奇数分别存储在不同列上。输出该数组并统计偶数与奇数的个数。

    === "2. 矩阵加法乘法"

        实现两个矩阵的相关操作，包括矩阵的加法和矩阵的乘法。

    === "3. 杨辉三角"

        输出杨辉三角形前 10 行。格式如下：
        
        ```txt
        1
        1 1
        1 2 1
        1 3 3 1
        ...
        ```

    === "4. 二维数组鞍点"

        找出二维数组中的所有鞍点，即该位置的元素在该行上最大，但是在该列上最小。可能有多个鞍点，也有可能没有鞍点。

    === "5. 学生成绩计算"

        一个学习小组有 N 个人，每个人有 M 门课的考试成绩，输入每门课的学分以及每名学生的成绩。

        1. 输出每门课的平均成绩。

        2. 假设每个课程有不同的学分，计算每人的加权平均分与平均学分绩点 GPA 成绩。90 以上绩点为 4，80 到 90 绩点为 3，70 到 80 绩点为 2，60 到 70 绩点为 1，60 以下绩点为 0。
        
### 第七次上机

=== "1. 水仙花数"

    水仙花数是一个三位数，其各位数字的立方和等于它本身，请设计一个函数 `#!c int IsDaffodil (int number)`, 判断 `number` 是否为水仙花数，主函数中调用该函数并输出所有的水仙花数.

=== "2. 完数"

    一个整数的所有因子 (包括 1，但不包括本身) 之和等于该数，则该数称为完数（1 不是完数）. 例如 6 是一个完数，因为 6=1+2+3. 编写一个 `IsPerfectnum` 函数，判断参数 number 是否为完数。利用该函数判断并打印 1 到 1000 之间的所有完数.

=== "3. 验证哥德巴赫猜想"

    编写程序验证猜想：一个不小于 6 的偶数可以表示成两个素数之和。如 6＝3＋3,8＝3＋5,10＝3＋7…… 在主函数中输入一个大于 6 的偶数 n, 例如 34, 输出如下形式：34＝3＋31. 如果输入的数不满足要求则要能够重新输入.

=== "4. 统计指定字符"

    使用函数统计指定数字的个数，读入一个整数，统计并输出该数中 “2” 的个数，要求定义函数 `#!c int CountDigit (int number, int digit)`, 它的功能是统计整数 number 中数字 digit 的个数，例如 CountDigit (12292,2) 的返回值是 3.(注意测试特殊情况，如 number 是 0,digit 也是 0, 那么结果应该是 1 个).

=== "5. 二进制转化"

    编写函数将一个不大于 1000 的十进制自然数转换成二进制数，并在主函数中调用该函数进行测试 (不需考虑高位的 0).

=== "6. 按顺序排列"

    编写一个函数，判断一个整数从高位到低位各位数字是否按值从小到大排列。在主函数中输入若干个整数，并调用该函数，输出满足上述条件的数 (注意测试个位数).

=== "7. 判断日期有效性"

    在主函数中输入一个日期，设计判断日期有效性的函数 `#!c int isValidDate (int year, int month, int day)`, 判断闰年的函数 `#!c int isLeap (int year)`, 以及判断当前日期为当年第几天的函数 `#!c int days (int year, int month, int day)`. 主函数中输入日期的年、月、日，用循环保证输入有效日期 (当输入错误或日期无效时，重新输入), 然后输出该日期为当年的第几天.

### 第八次上机

=== "1. 交换函数"

    编写 Swap 函数，交换两个整型变量的值，并在主函数中进行测试 (输出函数调用前后两个整型变量的值和).

    提示：指针作为参数，通过指针改变实参的值。

=== "2. 求和与差"

    只调用一个函数得到两个数的和与差.
    
    提示：指针作为参数，实现返回多个值。

    函数可声明为 `#!c void Sum_Diff (float op1, float op2, float *psum, float *pdiff)`, 将主函数中表示和与差的变量的地址作为实参，传递给指针 `psum` 和 `pdiff`, 在被调函数中计算和与差并赋值给 `*psum` 和 `*pdiff`, 从而将和与差写入主函数中表示和与差的变量的内存中，即可在主函数得到和与差，进行输出.

=== "3. 拆分实数"

    编写一个函数，将一个实数拆分成整数和小数部分，编写该函数，并在主函数中调用，对其进行测试.

=== "4. 数组元素统计"

    编写一个函数，计算一个长度为 n 的整型数组 a 中元素的最大值、最小值以及所有元素的均值，在主函数数中调用该函数并输出三个计算的结果.

=== "5. 数组逆序存储"

    写一个函数，实现数组的逆序存储，比如数组元素一开始是 {12,34,56}, 函数调用之后，变成 {56,34,12}, 在主函数中调用该函数进行测试，在函数调用之前和之后分别输出数组元素 (用符号常量作为数组长度).

=== "6. 翻转二维数组"

    编写函数将一个 N*N 的二维数组以对角线为轴翻转。在主函数中对该函数进行测试，输出函数调用前后二维数组元素的值.

=== "7. 删除指定元素"

    编写函数 `#!c void delElem (int *arr, int n, int k)`, 实现从一个整型数组中删除下标为 k 的元素，请使用指针操作。在主函数中对该函数进行测试.

### 第九次上机

=== "必做题"

    === "1.`str`函数"

        编写以下三个函数实现标准库中的 `strlen`, `strcpy` 和 `strcat` 的功能，并在主函数中对该函数进行测试.
        ```c
        int myStrLen (char c []);
        char* myStrcpy (char* dst, char*src);
        char* myStrCat (char a [], char b []);
        ```

    === "2. 删除指定子串"

        删除字符串 str1 中的所有子串 str2. 如 str1="abcdabac",str2="ab", 计算结果：str1="cdac".

        编写辅助函数：
        ```c
        char* myStrstr (char* str, char*sub);     // 实现库函数 strstr 的功能；
        char*delSubstr (char* str, char* sub);    // 删除字符串 str 中第一个子串 sub, 返回删除位置.
        ```

        合理调用辅助函数，在主函数中测试删除字符串中所有子串的功能.

    === "3. 替换指定子串"

        把字符串 str1 中的所有子串 str2 替换为 str3. 如 str1="abcdabac",str2="ab",str3="xyz", 计算结果：str1="xyzcdxyzac".
        
        编写 replace 函数，并在主函数中测试。函数原型为 `#!c char* replace (char *str, char* substr1, char* substr2)`，返回 `str` 的首地址.

        注意，替换过程中新产生的 str2 不可以被替换.

    === "4. 字典排序"

        编写一个书名排序程序，输入 10 个书名存入一个二维字符数组，每个书名最长 30 个字符，用函数 `#!c void sortStr (char (*s)[30], int n)` 实现它们的字典顺序，在 `main` 函数输出结果.

    === "5. 回文字符串"

        abba 是回文，level 是回文。编写一个函数，判断一个单词 (字符串) 是否是” 回文”, 请用函数递归的思想实现.
        
        思路：如果一个字符串的首尾字符相同，且去掉首尾的子串也是回文，那么这个字符串就是回文字符串.
        
        函数原型：`#!c int isPalindrome (char * s, int size)`.

=== "B. 选做题"

    === "1. 最长公共子串"

        计算两个字符串的最长公共子串.

    === "2. 统计单词"

        录入一篇英文文章 (存放在字符数组 a [n] 中), 统计单词个数，并按照单词的长度由小到大依次输出各个单词。假定这段文章不超过 80 个字符，单词不超过 20 个.

    === "3. 单词倒序"

        编写程序，实现将一行字符按单词倒序输出。如输入 "I love you", 输出 "you love I".

### 第十次上机

=== "1. 回文词"

    判断单词是否为回文词，若是，则返回 1, 否则返回 0.

=== "2. 字典序排列"

    完成下面未完成的程序，实现人名按字典序排列并输出.

    ```c
    #include <stdio.h>
    #include <string.h>
    #define M 5        // 定义符号常量 M 表示人名的个数

    void sortStr (char* pPerson [], int n);
    // 对指针数组 pPerson 中的 n 个元素指向的字符串，进按字典顺序进行升序排序

    void input (char (* p)[30], int n);
    // 从键盘读入 n 个名字，放入 p 指向的二维数组中

    int main ()
    {
        char person [M][30];        // 定义字符数组存放 M 个人名
        int i = 0;
        printf ("请输入 5 个名字：\n");
        input (person, M);
        // 调用 input 函数，从键盘读入 M 的名字，写入 person 数组
        char* pPerson [M] = { NULL };    // 定义字符指针数组
        for (; i < M; i++)
        {
            pPerson [i] = person [i];
        }
        // 循环对 pPerson 数组中元素赋值，使其分别指向二维数组 person 中的 M 个人名
        printf ("排序后：\n-------------------------\n");
        sortStr (pPerson, M);
        for (i = 0; i < M; i++)
        {
            puts (pPerson [i]);
        }
        // 循环输出排好序的人名
        return 0;
    }
    ```

=== "3. 职工信息"

    使用结构体表示员工的信息(职工号、姓名、生日(1)和工资).
    { .annotate }

    1. 生日也为一个结构体类型,包含年、月、日.
    
    输入n名员工的信息,按照工资升序排序并输出所有员工的数据.

=== "4. 单向链表"

    建立一个单向链表,每个结点应包含整型数据和指针两个域.

    编写函数实现链表的输出、逆向输出、尾插、删除特定数据的结点.
