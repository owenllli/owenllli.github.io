# Annotations 注解

注解 (Annotations) 是一项可以在文档中任何位置插入的一个小标记，点击后会展开一个工具提示、可以显示任意包含 Markdown 的内容。

## 使用方法

### 添加注解

注解由两部分内容组成：

- 标记 (Marker): 放置在 `annotate` 类块中，可以放在任何地方。
- 内容 (Content): 位于标记块下方的列表中。

```Markdown title="使用注解添加注释"
豫章(1)故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺(2)下陈蕃之榻。雄州雾列，俊采星驰。(3)
{ .annotate }

1. 滕王阁在今江西省南昌市。南昌，为汉豫章郡治。唐代宗当政之后，为了避讳唐代宗的名（李豫），“豫章故郡”被替换为“南昌故郡”。所以现在滕王阁内的石碑以及苏轼的手书都作“南昌故郡”。
2. 徐孺子的省称。徐孺子名稚，东汉豫章南昌人，当时隐士。据《后汉书•徐稚传》，东汉名士陈蕃为豫章太守，不接宾客，惟徐稚来访时，才设一睡榻，徐稚去后又悬置起来。
3. 注解内容来自[百度汉语][#]。
```

<div class="result" markdown>

豫章(1)故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺(2)下陈蕃之榻。雄州雾列，俊采星驰。(3)
{ .annotate }

1. 滕王阁在今江西省南昌市。南昌，为汉豫章郡治。唐代宗当政之后，为了避讳唐代宗的名（李豫），“豫章故郡”被替换为“南昌故郡”。所以现在滕王阁内的石碑以及苏轼的手书都作“南昌故郡”。
2. 徐孺子的省称。徐孺子名稚，东汉豫章南昌人，当时隐士。据《后汉书•徐稚传》，东汉名士陈蕃为豫章太守，不接宾客，惟徐稚来访时，才设一睡榻，徐稚去后又悬置起来。
3. 注解内容来自[百度汉语][baidu-hanyu-anno1]。

</div>

[baidu-hanyu-anno1]:<https://hanyu.baidu.com/s?wd=%E6%BB%95%E7%8E%8B%E9%98%81%E5%BA%8F&from=poem>

### 嵌套注解

启用 `pymdownx.superfences` 后，可以通过将 `annotate` 类添加到注解内容的列表项中来实现注解嵌套，并可以继续重复该过程。

```Markdown title="使用嵌套注解"
豫章(1)故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺下陈蕃之榻。雄州雾列，俊采星驰。(2)
{ .annotate }

1. 滕王阁在今江西省南昌市。南昌，为汉豫章郡治。唐代宗当政之后，为了避讳唐代宗的名(1)，“豫章故郡”被替换为“南昌故郡”。所以现在滕王阁内的石碑以及苏轼的手书都作“南昌故郡”。
   { .annotate }

   1. 唐代宗李豫（726 年 11 月 11 日 － 779 年 6 月 10 日），初名李俶，陇西狄道（今甘肃省临洮县）人。唐朝第九位皇帝。

2. 注解内容来自[百度汉语][#]。
```

<div class="result" markdown>

豫章(1)故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺下陈蕃之榻。雄州雾列，俊采星驰。(2)
{ .annotate }

1. 滕王阁在今江西省南昌市。南昌，为汉豫章郡治。唐代宗当政之后，为了避讳唐代宗的名(1)，“豫章故郡”被替换为“南昌故郡”。所以现在滕王阁内的石碑以及苏轼的手书都作“南昌故郡”。
    { .annotate }

    1. 唐代宗李豫（726 年 11 月 11 日 － 779 年 6 月 10 日），初名李俶，陇西狄道（今甘肃省临洮县）人。唐朝第九位皇帝。

2. 注解内容来自[百度汉语][baidu-hanyu-anno1]。

</div>

### 与警示块结合

注解可以添加到提示块的标题和内容中，你只需要在提示块类型限定符后添加 `annotate` 修饰符即可实现，这与内联块的工作方式类似。

```Markdown
!!! note annotate "这是标题(1)"

    这是正文(2)，这是一段很水的正文。

1. 这是针对标题的注解
2. 这是针对正文的注解
```

<div class="result" markdown>

!!! note annotate "这是标题(1)"

    这是正文(2)，这是一段很水的正文。

1. 这是针对标题的注解
2. 这是针对正文的注解

</div>

### 与选项卡结合

内容选项卡支持注解，但 `annotate` 类只能添加到单个内容选项卡块中，不能直接添加到整个选项卡容器上。

```Markdown title="带注解的选项卡"
=== "滕王阁序(节选)"

    时维九月，序属三秋。潦水尽而寒潭清，烟光凝而暮山紫。俨骖騑(1)于上路，访风景于崇阿；临帝子之长洲，得天人之旧馆。层峦耸翠，上出重霄；飞阁流丹，下临无地。鹤汀凫渚，穷岛屿之萦回；桂殿兰宫，即冈峦之体势。
    { .annotate }

    1. 驾车的马匹。

=== "梦游天姥吟留别"

    海客谈瀛洲(1)，烟涛微茫信难求，越人语天姥，云霞明灭或可睹。天姥连天向天横，势拔五岳掩赤城。天台四万八千丈，对此欲倒东南倾。我欲因之梦吴越，一夜飞度镜湖月。湖月照我影，送我至剡溪。谢公宿处今尚在，渌水荡漾清猿啼。脚著谢公屐，身登青云梯。半壁见海日，空中闻天鸡。千岩万转路不定，迷花倚石忽已暝。熊咆龙吟殷岩泉，栗深林兮惊层巅。云青青兮欲雨，水澹澹兮生烟。列缺霹雳，丘峦崩摧。洞天石扉，訇然中开。青冥浩荡不见底，日月照耀金银台。霓为衣兮风为马，云之君兮纷纷而来下。虎鼓瑟兮鸾回车，仙之人兮列如麻。忽魂悸以魄动，恍惊起而长嗟。惟觉时之枕席，失向来之烟霞。世间行乐亦如此，古来万事东流水。别君去兮何时还？且放白鹿青崖间。须行即骑访名山。安能摧眉折腰事权贵，使我不得开心颜！
    { .annotate }

    1. 古代传说中的东海三座仙山之一（另两座叫蓬莱和方丈）。
```

<div class="result" markdown>

=== "滕王阁序(节选)"

    时维九月，序属三秋。潦水尽而寒潭清，烟光凝而暮山紫。俨骖騑(1)于上路，访风景于崇阿；临帝子之长洲，得天人之旧馆。层峦耸翠，上出重霄；飞阁流丹，下临无地。鹤汀凫渚，穷岛屿之萦回；桂殿兰宫，即冈峦之体势。
    { .annotate }

    1. 驾车的马匹。

=== "梦游天姥吟留别"

    海客谈瀛洲(1)，烟涛微茫信难求，越人语天姥，云霞明灭或可睹。天姥连天向天横，势拔五岳掩赤城。天台四万八千丈，对此欲倒东南倾。我欲因之梦吴越，一夜飞度镜湖月。湖月照我影，送我至剡溪。谢公宿处今尚在，渌水荡漾清猿啼。脚著谢公屐，身登青云梯。半壁见海日，空中闻天鸡。千岩万转路不定，迷花倚石忽已暝。熊咆龙吟殷岩泉，栗深林兮惊层巅。云青青兮欲雨，水澹澹兮生烟。列缺霹雳，丘峦崩摧。洞天石扉，訇然中开。青冥浩荡不见底，日月照耀金银台。霓为衣兮风为马，云之君兮纷纷而来下。虎鼓瑟兮鸾回车，仙之人兮列如麻。忽魂悸以魄动，恍惊起而长嗟。惟觉时之枕席，失向来之烟霞。世间行乐亦如此，古来万事东流水。别君去兮何时还？且放白鹿青崖间。须行即骑访名山。安能摧眉折腰事权贵，使我不得开心颜！
    { .annotate }

    1. 古代传说中的东海三座仙山之一（另两座叫蓬莱和方丈）。

</div>

### 在其他元素中使用注解

通过 `Attribute Lists` 扩展，你可以为大多数元素添加注解，但该扩展存在一些限制。例如，某些情况下需要结合 `Markdown in HTML` 扩展，使用带 .annotate 类的 `<div>` 包裹任意元素。使用这种方法，注解就可以被应用于块引用、列表等多种不被 `Attribute Lists` 支持的元素上了。但是，代码块的注解语法与此处的不同，这点我们后面会再次提及。
另外，数据表 (data tables) 不支持注解，这点可能会在官方的后续更新中解决。

```Markdown title="使用HTML来实现注解"
<div class="annotate" markdown>

> 壬戌之秋，七月既望(1)，苏子与客泛舟游于赤壁之下。清风徐来，水波不兴。举酒属客，诵明月之诗，歌窈窕之章。少焉，月出于东山之上，徘徊于斗牛之间。白露横江，水光接天。纵一苇之所如，凌万顷之茫然。浩浩乎如冯虚御风，而不知其所止；飘飘乎如遗世独立，羽化而登仙。

</div>

1.  农历每月十六。农历每月十五日为“望日”，十六日为“既望”。
```

<div class="result" markdown>
  <div class="annotate" markdown>

> 壬戌之秋，七月既望(1)，苏子与客泛舟游于赤壁之下。清风徐来，水波不兴。举酒属客，诵明月之诗，歌窈窕之章。少焉，月出于东山之上，徘徊于斗牛之间。白露横江，水光接天。纵一苇之所如，凌万顷之茫然。浩浩乎如冯虚御风，而不知其所止；飘飘乎如遗世独立，羽化而登仙。

  </div>

1. 农历每月十六。农历每月十五日为“望日”，十六日为“既望”。

</div>
